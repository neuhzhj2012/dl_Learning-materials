##### 模块

###### anchor

> - 缺点：
> 1. 在哪那些层使用anchor(即anchor的大小，不同特征图上使用不同大小的anchor)、每个位置的anchor数量、anchor的宽高比参数等需要人工参与或聚类得到；
> 
> 2. 计算anchor与GT间IOU时的阈值参数；
> 
> 3. 参数值不具有通用性，不同任务各不相同；
> 
> 4. 基于anchor获得训练的正负样本大量失衡，计算IOU运算比较耗时；

###### NMS

pass

###### FPN

> FPN结构在高层的语义特征进行融合效果并不好

##### 网络

###### [FCOS: Fully Convolutional One-Stage Object Detection](https://zhuanlan.zhihu.com/p/62869137)

- 主要贡献：

> 1. 以像素维度处理检测问题；
> 
> 2. anchor-free、proposal free的检测算法；
> 
> 3. 提出像素点的中心性(center-ness)
> 
> 4. 为其他实例级任务提供可选框架(将实例级任务变为像素级任务处理)；

- 原图经s的步长得到特征图F时，该特征图上的点F<sub>i</sub>(x,y)映射到原图中则对应着以(x\*s, y\*s)为起点的大小为s的区域，故其对应原图位置的中心点坐标为(⌊s/2⌋+x\*s,⌊s/2⌋+y\*s)

- 训练中的正负样本

> 物体外接矩形框内的点为正样本；
> 
> 不同物体重叠部分的点视为模糊样本，此时该点仅用于描述面积最小的框

- 问题及解决方法
1. 召回率低

> YOLOV1仅使用中心点进行回归，预测边框的召回率低。
> 
> FCOS使用GT内的所有点进行回归，并利用center-ness抑制了低质量的框。

2. 像素的模糊性(像素同时属于不同物体)

> FCOS使用不同的head分别预测不同大小的物体。因为重叠物体的尺度变化非常大，基于FPN的多尺度检测可以在不同层检测不同大小的物体，从而减少大物体包含小物体的情况。

3. center-ness

> 表示GT内像素点到物体中心的距离，
> 
> 训练时利用二分类交叉熵计算像素点到中心点的损失；
> 
> 预测时将该值与分类置信度相乘，减小低质量的预测边界框的置信度，从而在NMS时由置信度排序和交并比去除低质量的预测框；
